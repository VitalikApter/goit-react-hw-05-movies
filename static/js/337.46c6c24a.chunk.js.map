{"version":3,"file":"static/js/337.46c6c24a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/Section/Section.module.css?dbe8","components/Section/Section.jsx","components/helpers/fetchData.js","components/helpers/imagePath.js","components/helpers/parseDataForMovieList.js","constants/QueryPath/QueryPath.js","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesList_container__0JGj2\",\"movies_list\":\"MoviesList_movies_list__EAcLe\",\"movies_list__item\":\"MoviesList_movies_list__item__PJxaz\"};","import PropTypes from 'prop-types';\n\nimport css from './MoviesList.module.css';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\n\nimport { useLocation } from 'react-router-dom';\n\nconst MoviesList = ({ moviesList }) => {\n  const location = useLocation('');\n  return (\n    <div className={classNames(css.container, css.movies_list)}>\n      <ul className={css.movies_list}>\n        {moviesList.map(({ id, title, name }) => (\n          <li key={id} className={css.movies_list__item}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {title || name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  moviesList: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      name: PropTypes.string,\n    }).isRequired\n  ).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"section_title\":\"Section_section_title__Pz+EF\"};","import css from './Section.module.css';\nimport PropTypes from 'prop-types';\n\nconst Section = ({ children, className, title }) => (\n  <section className={css[className]}>\n    <h2 className={css.section_title}>{title}</h2>\n    {children}\n  </section>\n);\n\nSection.propTypes = {\n  class: PropTypes.string,\n  children: PropTypes.element,\n};\n\nexport default Section;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst instanseAxios = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: 'c887019741c8f0f75dbac80f70612516',\n  },\n});\n\nexport const fetchData = (url, query) => {\n  return instanseAxios({\n    url,\n    params: { query: query },\n  })\n    .then(({ data, status, statusText }) => ({ data, status, statusText }))\n    .catch(err => {\n      toast.error(err);\n    });\n};\n","export const imagePath =(poster_path)=> `https://image.tmdb.org/t/p/w500${poster_path}`;","export const parseDataForMovieList = movieArrey =>\n  movieArrey.reduce((resArrey, { id, title }) => {\n    resArrey.push({ id, title });\n    return resArrey;\n  }, []);","const QueryPath = {\n  trending: 'trending/movie/day',\n  genres: 'genre/movie/list',\n  search: '/search/movie',\n  movieDetails: movieId => `/movie/${movieId}`,\n  movieCredits: movieId => `/movie/${movieId}/credits`,\n  movieReviews: movieId => `/movie/${movieId}/reviews`,\n};\n\nexport default QueryPath;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\"};","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport Section from 'components/Section/Section';\nimport css from './SearchForm.module.css';\nimport { toast } from 'react-toastify';\n\nconst SearhForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const onCangeInputHandler = evt => {\n    setQuery(evt.target.value);\n  };\n\n  const onSubmitHandler = evt => {\n    evt.preventDefault();\n    const queryStr = query.trim();\n    if (!queryStr.length) {\n      toast.warn('Enter something to search for');\n      setQuery('');\n      return;\n    }\n    onSubmit(queryStr);\n    setQuery('');\n  };\n\n  return (\n    <Section>\n      <form className={css.form} onSubmit={onSubmitHandler}>\n        <input\n          name=\"search\"\n          type=\"text\"\n          required\n          value={query}\n          onChange={onCangeInputHandler}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n    </Section>\n  );\n};\n\nexport default SearhForm;\n\nSearhForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport SearhForm from 'components/SearchForm/SearchForm';\nimport Section from 'components/Section/Section';\nimport QueryPath from 'constants/QueryPath/QueryPath';\nimport { fetchData } from 'components/helpers/Api';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nconst MoviesPage = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [moviesList, setMoviesList] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const onSubmitHandler = fromSearchValue => {\n    setSearchParams({ query: fromSearchValue });\n  };\n\n  useEffect(() => {\n    if (!query) return;\n    setIsLoading(true);\n    fetchData(QueryPath.search, query)\n      .then(({ data: { results = {} } }) => {\n        setMoviesList(results);\n      })\n      .catch(err => {\n        toast.error('Something wrong');\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [query]);\n\n  return (\n    <Section>\n      <>\n        <SearhForm onSubmit={onSubmitHandler} />\n\n        {isLoading && <Loader />}\n        {moviesList.length > 0 && <MoviesList moviesList={moviesList} />}\n      </>\n    </Section>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["moviesList","location","useLocation","className","classNames","css","map","id","title","name","to","state","from","children","instanseAxios","axios","baseURL","params","api_key","fetchData","url","query","then","data","status","statusText","catch","err","toast","imagePath","poster_path","parseDataForMovieList","movieArrey","reduce","resArrey","push","trending","genres","search","movieDetails","movieId","movieCredits","movieReviews","onSubmit","useState","setQuery","Section","evt","preventDefault","queryStr","trim","length","type","required","value","onChange","target","isLoading","setIsLoading","setMoviesList","useSearchParams","searchParams","setSearchParams","get","useEffect","QueryPath","results","finally","fromSearchValue","Loader","MoviesList"],"sourceRoot":""}