{"version":3,"file":"static/js/168.33e3272e.chunk.js","mappings":"2NACA,GAAgB,aAAe,+B,oCC2C/B,EApCgB,WACd,OAA8BA,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAkCH,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KAgBA,OAdAC,EAAAA,EAAAA,YAAU,WACRD,GAAa,IACbE,EAAAA,EAAAA,IAAUC,EAAAA,EAAAA,aAAuBN,IAC9BO,MAAK,YAA4B,IAAjBC,EAAgB,EAAxBC,KAAQD,QACfT,EAAWS,EACZ,IACAE,OAAM,SAAAC,GACLC,EAAAA,GAAAA,MAAY,kBACb,IACAC,SAAQ,WACPV,GAAa,EACd,GACJ,GAAE,CAACH,KAGF,gCACGE,IAAa,SAACY,EAAA,EAAD,KACd,eAAIC,UAAWC,EAAAA,aAAf,SACKlB,EAAQmB,OACPnB,EAAQoB,KAAI,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAASC,EAApB,EAAoBA,GAApB,OACV,gBAAIN,UAAWC,EAAAA,mBAAf,WACE,qCAAaG,MACb,uBAAIC,MAFsCC,EADlC,IADf,gDAWR,C,6HCvCKC,EAAgBC,EAAAA,EAAAA,OAAa,CACjCC,QAAS,gCACTC,OAAQ,CACNC,QAAS,sCAIArB,EAAY,SAACsB,EAAKC,GAC7B,OAAON,EAAc,CACnBK,IAAAA,EACAF,OAAQ,CAAEG,MAAOA,KAEhBrB,MAAK,kBAAmC,CAAEE,KAArC,EAAGA,KAAwCoB,OAA3C,EAASA,OAA0CC,WAAnD,EAAiBA,WAAjB,IACLpB,OAAM,SAAAC,GACLC,EAAAA,GAAAA,MAAYD,EACb,GACJ,ECnBYoB,EAAW,SAACC,GAAD,+CAAkDA,EAAlD,ECAXC,EAAwB,SAAAC,GAAU,OAC7CA,EAAWC,QAAO,SAACC,EAAD,GAA8B,IAAjBf,EAAgB,EAAhBA,GAAIgB,EAAY,EAAZA,MAEjC,OADAD,EAASE,KAAK,CAAEjB,GAAAA,EAAIgB,MAAAA,IACbD,CACR,GAAE,GAJ0C,C,oBCS/C,IATkB,CAChBG,SAAU,qBACVC,OAAQ,mBACRC,OAAQ,gBACRC,aAAc,SAAA1C,GAAO,uBAAcA,EAAd,EACrB2C,aAAc,SAAA3C,GAAO,uBAAcA,EAAd,aACrB4C,aAAc,SAAA5C,GAAO,uBAAcA,EAAd,a","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","components/helpers/fetchData.js","components/helpers/imagePath.js","components/helpers/parseDataForMovieList.js","constants/QueryPath/QueryPath.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviews_list\":\"Reviews_reviews_list__bJBhs\"};","import { useState, useEffect } from 'react';\nimport QueryPath from 'constants/QueryPath/QueryPath';\nimport { fetchData } from 'components/helpers/Api';\nimport css from './Reviews.module.css';\nimport { useParams } from 'react-router-dom';\nimport Loader from 'components/Loader/Loader';\nimport { toast } from 'react-toastify';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const { movieId } = useParams();\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchData(QueryPath.movieReviews(movieId))\n      .then(({ data: { results } }) => {\n        setReviews(results);\n      })\n      .catch(err => {\n        toast.error('Something wrong');\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [movieId]);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      <ul className={css.reviews_list}>\n        {!!reviews.length\n          ? reviews.map(({ author, content, id }) => (\n              <li className={css.reviews_list__item} key={id}>\n                <h3>Author: {author}</h3>\n                <p>{content}</p>\n              </li>\n            ))\n          : `We don't have any reviews for this movie.`}\n      </ul>\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst instanseAxios = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: 'c887019741c8f0f75dbac80f70612516',\n  },\n});\n\nexport const fetchData = (url, query) => {\n  return instanseAxios({\n    url,\n    params: { query: query },\n  })\n    .then(({ data, status, statusText }) => ({ data, status, statusText }))\n    .catch(err => {\n      toast.error(err);\n    });\n};\n","export const imagePath =(poster_path)=> `https://image.tmdb.org/t/p/w500${poster_path}`;","export const parseDataForMovieList = movieArrey =>\n  movieArrey.reduce((resArrey, { id, title }) => {\n    resArrey.push({ id, title });\n    return resArrey;\n  }, []);","const QueryPath = {\n  trending: 'trending/movie/day',\n  genres: 'genre/movie/list',\n  search: '/search/movie',\n  movieDetails: movieId => `/movie/${movieId}`,\n  movieCredits: movieId => `/movie/${movieId}/credits`,\n  movieReviews: movieId => `/movie/${movieId}/reviews`,\n};\n\nexport default QueryPath;\n"],"names":["useState","reviews","setReviews","movieId","useParams","isLoading","setIsLoading","useEffect","fetchData","QueryPath","then","results","data","catch","err","toast","finally","Loader","className","css","length","map","author","content","id","instanseAxios","axios","baseURL","params","api_key","url","query","status","statusText","imagePath","poster_path","parseDataForMovieList","movieArrey","reduce","resArrey","title","push","trending","genres","search","movieDetails","movieCredits","movieReviews"],"sourceRoot":""}